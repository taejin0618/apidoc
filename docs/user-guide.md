# 사용자 매뉴얼

> 화면별 상세 사용 방법

## 페이지 구성

시스템은 3개의 주요 페이지로 구성됩니다:

| 페이지 | 경로 | 용도 |
|--------|------|------|
| 메인 페이지 | `/` | API URL 목록 관리 |
| API 상세 페이지 | `/api-detail?id=` | Swagger UI 및 버전 히스토리 |
| 버전 비교 페이지 | `/version-compare?id=` | 두 버전 상세 비교 |

---

## 1. 메인 페이지

> API URL 목록을 관리하는 메인 화면입니다.

### 1.1 화면 구성

```
┌─────────────────────────────────────────────────────┐
│ [로고]                    [새로고침] [+ API 추가]    │
├─────────────────────────────────────────────────────┤
│ [그룹 필터 ▼]  [검색 입력창...]                      │
├─────────────────────────────────────────────────────┤
│ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐     │
│ │ API 카드 1  │ │ API 카드 2  │ │ API 카드 3  │     │
│ │ - 이름      │ │ - 이름      │ │ - 이름      │     │
│ │ - URL       │ │ - URL       │ │ - URL       │     │
│ │ - 그룹      │ │ - 그룹      │ │ - 그룹      │     │
│ │ - 상태 배지 │ │ - 상태 배지 │ │ - 상태 배지 │     │
│ │ [수정][삭제]│ │ [수정][삭제]│ │ [수정][삭제]│     │
│ └─────────────┘ └─────────────┘ └─────────────┘     │
└─────────────────────────────────────────────────────┘
```

### 1.2 API URL 목록 조회

**자동 로드:**
- 페이지 접속 시 등록된 모든 API URL이 카드 형태로 표시됩니다.
- 로딩 중에는 스켈레톤 UI가 표시됩니다.

**카드 정보:**

| 항목 | 설명 |
|------|------|
| 이름 | API 서비스 이름 |
| URL | Swagger JSON URL |
| 그룹 | 카테고리 (색상 배지) |
| 상태 | success(초록) / error(빨강) / pending(회색) |
| 마지막 업데이트 | 상대 시간 표시 (예: "3분 전") |
| 버전 수 | 저장된 버전 개수 |

### 1.3 검색 및 필터링

**그룹 필터:**
1. 상단의 "그룹 선택" 드롭다운 클릭
2. 원하는 그룹 선택
3. 해당 그룹의 API만 표시됨
4. "전체"를 선택하면 필터 해제

**텍스트 검색:**
1. 검색 입력창에 키워드 입력
2. API 이름과 설명에서 검색
3. 입력 후 0.3초 대기 시 자동 검색 (디바운싱)

### 1.4 새 API 추가

**단계:**

1. 우측 상단 **"+ API 추가"** 버튼 클릭
2. 모달 창에서 정보 입력:

| 필드 | 필수 | 설명 | 예시 |
|------|------|------|------|
| 서비스명 | ✅ | API 이름 (최대 100자) | "User Service API" |
| Swagger URL | ✅ | JSON 문서 URL | "https://api.example.com/swagger.json" |
| 그룹 | ✅ | 카테고리 분류 | "backend" |
| 설명 | ❌ | 상세 설명 (최대 500자) | "사용자 관리 API" |

3. **"저장"** 버튼 클릭
4. 성공 시 목록에 새 카드 추가됨

**유의사항:**
- URL은 반드시 `http://` 또는 `https://`로 시작
- Swagger/OpenAPI JSON 형식이어야 함

### 1.5 API 수정

1. 수정할 API 카드의 **"수정"** 버튼 클릭
2. 모달 창에 기존 정보가 자동 입력됨
3. 원하는 항목 수정
4. **"저장"** 버튼 클릭

### 1.6 API 삭제

1. 삭제할 API 카드의 **"삭제"** 버튼 클릭
2. 확인 대화상자 표시
3. **"확인"** 클릭 시 삭제 완료

**주의:** 삭제 시 해당 API의 모든 버전 히스토리도 함께 삭제됩니다.

### 1.7 API 상세 페이지 이동

- API 카드 클릭 → API 상세 페이지로 이동

---

## 2. API 상세 페이지

> Swagger UI 렌더링 및 버전 히스토리를 확인하는 화면입니다.

### 2.1 화면 구성

```
┌─────────────────────────────────────────────────────────────┐
│ ← [목록으로] [API 이름]              [지금 확인] [비교] [삭제] │
├──────────────────────────────────┬──────────────────────────┤
│                                  │ 버전 히스토리            │
│                                  │ ┌────────────────────┐  │
│      Swagger UI                  │ │ v3 (최신) ●         │  │
│      (API 문서 렌더링)             │ │ +5 -2 ~3           │  │
│                                  │ │ ▼ 변경사항          │  │
│                                  │ ├────────────────────┤  │
│                                  │ │ v2                 │  │
│                                  │ │ +3 -1 ~2           │  │
│                                  │ ├────────────────────┤  │
│                                  │ │ v1                 │  │
│                                  │ │ (최초 버전)         │  │
│                                  │ └────────────────────┘  │
└──────────────────────────────────┴──────────────────────────┘
```

### 2.2 Swagger UI

**기능:**
- 등록된 Swagger JSON을 시각적으로 렌더링
- 엔드포인트 목록 확인
- 요청/응답 스키마 확인
- 파라미터 상세 정보

**조작:**
- 엔드포인트 클릭 → 상세 정보 펼침
- Models 섹션 → 스키마 정의 확인

**참고:** "Try it out" 기능은 비활성화되어 있습니다 (조회 전용).

### 2.3 버전 히스토리 사이드바

**구성요소:**

| 항목 | 설명 |
|------|------|
| 버전 번호 | v1, v2, v3 ... (최신순 정렬) |
| 변경 배지 | +N(추가) -N(삭제) ~N(수정) |
| 타임스탬프 | 버전 생성 시간 |
| 변경사항 아코디언 | 클릭 시 상세 내용 펼침 |

**버전 전환:**
1. 원하는 버전 항목 클릭
2. Swagger UI가 해당 버전의 JSON으로 갱신
3. 선택된 버전이 하이라이트 표시

### 2.4 변경사항 확인

**아코디언 펼치기:**
1. 버전 항목의 "▼ 변경사항" 클릭
2. 타입별로 그룹화된 변경 내역 표시:
   - 🟢 **추가됨**: 새로 추가된 항목
   - 🔴 **삭제됨**: 제거된 항목
   - 🟠 **수정됨**: 변경된 항목

**변경 카드 정보:**

```
┌──────────────────────────────────────┐
│ [GET] /api/users/{id}                │
│ 카테고리: ENDPOINT                    │
│ 설명: 새 엔드포인트 추가               │
└──────────────────────────────────────┘
```

**Swagger UI 연동:**
- 변경 카드 클릭 → Swagger UI에서 해당 엔드포인트로 스크롤
- 해당 항목이 노란색으로 하이라이트
- 자동으로 펼쳐짐

### 2.5 액션 버튼

| 버튼 | 기능 |
|------|------|
| **지금 확인** | Swagger JSON을 다시 가져와서 변경사항 확인 |
| **버전 비교** | 버전 비교 페이지로 이동 |
| **JSON 다운로드** | 현재 버전의 Swagger JSON 파일 다운로드 |
| **삭제** | API 및 모든 버전 삭제 |

### 2.6 수동 Fetch (지금 확인)

1. **"지금 확인"** 버튼 클릭
2. 등록된 URL에서 최신 Swagger JSON 다운로드
3. 이전 버전과 비교
4. 변경사항 있으면 새 버전 생성
5. 결과 토스트 메시지 표시:
   - "새 버전이 생성되었습니다"
   - "변경사항이 없습니다"
   - "오류 발생" (URL 접근 불가 등)

### 2.7 API 삭제

1. **"삭제"** 버튼 클릭
2. 확인 대화상자 표시 (API 이름 확인)
3. 패스워드 입력
4. 확인 시 삭제 후 메인 페이지로 이동

**주의:** 이 작업은 되돌릴 수 없습니다.

---

## 3. 버전 비교 페이지

> 두 버전 간 상세 변경사항을 비교하는 화면입니다.

### 3.1 화면 구성

```
┌─────────────────────────────────────────────────────────────┐
│ ← [상세로 돌아가기]       [API 이름] 버전 비교               │
├─────────────────────────────────────────────────────────────┤
│     [v1 선택 ▼]    ⇄    [v3 선택 ▼]                         │
├─────────────────────────────────────────────────────────────┤
│         ┌───────┐ ┌───────┐ ┌───────┐                       │
│         │ +5    │ │ -2    │ │ ~3    │   변경사항 요약        │
│         │ 추가  │ │ 삭제  │ │ 수정  │                       │
│         └───────┘ └───────┘ └───────┘                       │
├─────────────────────────────────────────────────────────────┤
│ [전체] [추가됨] [삭제됨] [수정됨]                             │
├─────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 🟢 추가됨 (5)                                    [▼]   │ │
│ ├─────────────────────────────────────────────────────────┤ │
│ │ [POST] /api/users                                      │ │
│ │ 새 사용자 생성 엔드포인트 추가                           │ │
│ ├─────────────────────────────────────────────────────────┤ │
│ │ [GET] /api/users/{id}                                  │ │
│ │ 사용자 조회 엔드포인트 추가                              │ │
│ └─────────────────────────────────────────────────────────┘ │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 🔴 삭제됨 (2)                                    [▼]   │ │
│ └─────────────────────────────────────────────────────────┘ │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 🟠 수정됨 (3)                                    [▼]   │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 버전 선택

**드롭다운 선택:**
1. 왼쪽 드롭다운: 이전 버전 선택
2. 오른쪽 드롭다운: 비교 버전 선택
3. 선택 변경 시 자동으로 비교 결과 갱신

**스왑 버튼 (⇄):**
- 클릭 시 두 버전의 위치 교체
- 비교 방향 변경 시 유용

**기본 선택:**
- 페이지 진입 시 최신 2개 버전 자동 선택

### 3.3 변경사항 요약

화면 상단에 변경 통계가 표시됩니다:

| 배지 | 색상 | 의미 |
|------|------|------|
| +N | 🟢 초록 | 추가된 항목 수 |
| -N | 🔴 빨강 | 삭제된 항목 수 |
| ~N | 🟠 주황 | 수정된 항목 수 |

**필터 바로가기:**
- 각 통계 배지 클릭 → 해당 필터 탭 활성화

### 3.4 필터 탭

| 탭 | 표시 내용 |
|------|---------|
| **전체** | 모든 변경사항 |
| **추가됨** | added 타입만 |
| **삭제됨** | removed 타입만 |
| **수정됨** | modified 타입만 |

### 3.5 변경사항 목록

**그룹 구조:**
- 타입별로 아코디언 그룹화 (추가됨/삭제됨/수정됨)
- 각 그룹의 개수 표시
- 클릭으로 펼침/접음 토글

**변경 카드 정보:**

| 항목 | 설명 |
|------|------|
| HTTP 메서드 | GET, POST, PUT, DELETE 등 (색상 배지) |
| 경로 | /api/users, /api/orders/{id} 등 |
| 카테고리 | ENDPOINT, PARAMETER, SCHEMA 등 |
| 설명 | 변경 내용 요약 |

### 3.6 상세 비교 보기

변경 카드 클릭 시 상세 정보 패널 표시:

```
┌─────────────────────┬─────────────────────┐
│ 이전 값 (v1)        │ 현재 값 (v3)         │
├─────────────────────┼─────────────────────┤
│ {                   │ {                   │
│   "name": "userId", │   "name": "userId", │
│   "required": false │   "required": true, │
│ }                   │   "type": "string"  │
│                     │ }                   │
└─────────────────────┴─────────────────────┘
```

**JSON 구문 강조:**
- 문자열: 녹색
- 숫자: 파란색
- 불리언: 주황색
- null: 회색

**긴 JSON 처리:**
- 기본적으로 축약 표시
- "더보기" 버튼 클릭 → 전체 내용 표시

---

## 4. 공통 UI 요소

### 4.1 토스트 알림

화면 우측 하단에 표시되는 알림:

| 타입 | 색상 | 용도 |
|------|------|------|
| success | 🟢 초록 | 작업 성공 |
| error | 🔴 빨강 | 오류 발생 |
| info | 🔵 파랑 | 정보 안내 |

- 5초 후 자동 사라짐
- 클릭으로 즉시 닫기 가능

### 4.2 스켈레톤 UI

데이터 로딩 중 표시되는 플레이스홀더:
- 카드 형태의 회색 박스
- 펄스 애니메이션 효과
- 데이터 로드 완료 시 실제 내용으로 교체

### 4.3 모달 창

**열기:**
- 특정 버튼 클릭 시 오버레이와 함께 표시

**닫기:**
- X 버튼 클릭
- 오버레이(배경) 클릭
- 취소 버튼 클릭
- ESC 키

### 4.4 상태 배지

API 상태를 나타내는 색상 배지:

| 상태 | 색상 | 의미 |
|------|------|------|
| success | 🟢 초록 | Swagger 가져오기 성공 |
| error | 🔴 빨강 | 가져오기 실패 (URL 오류 등) |
| pending | ⚪ 회색 | 아직 가져오지 않음 |

### 4.5 그룹 색상

각 그룹은 고유한 색상으로 표시됩니다:

**기본 정의 색상:**
- backend: 🔵 파랑
- frontend: 🟣 보라
- mobile: 🟢 초록
- external: 🟠 주황

**동적 색상:**
- 미정의 그룹은 HSL 기반으로 자동 생성
- 그룹명의 해시값으로 색조(Hue) 결정

---

## 5. 워크플로우 예시

### 시나리오 1: 새 API 등록 후 모니터링

```
1. 메인 페이지 → "+ API 추가" 클릭
2. 정보 입력 (이름, URL, 그룹)
3. 저장 → 자동으로 Swagger 가져오기 시도
4. 카드에서 상태 확인 (success/error)
5. 카드 클릭 → 상세 페이지에서 Swagger UI 확인
```

### 시나리오 2: 변경사항 추적

```
1. API 상세 페이지 진입
2. "지금 확인" 버튼으로 최신 버전 fetch
3. 변경 있으면 새 버전 생성됨
4. 사이드바에서 새 버전 확인
5. 변경 카드 클릭 → Swagger UI에서 해당 부분 확인
```

### 시나리오 3: 두 버전 상세 비교

```
1. API 상세 페이지 → "버전 비교" 버튼
2. 비교할 버전 2개 선택
3. 필터 탭으로 관심 항목만 보기
4. 변경 카드 클릭 → 이전값/현재값 비교
```

---

← [목차로 돌아가기](./README.md) | [다음: API 명세](./api-reference.md) →
