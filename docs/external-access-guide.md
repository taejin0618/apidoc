# ì™¸ë¶€ ì ‘ê·¼ ì„¤ì • ê°€ì´ë“œ

> API Doc Managerë¥¼ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ëŠ” ë°©ë²•

## ì„œë²„ ì •ë³´

- **ê³µì¸ IP**: 211.39.156.53
- **í¬íŠ¸**: 443 (HTTPS)
- **Base URL**: `https://211.39.156.53/api`

## í•„ìˆ˜ ì„¤ì • ë‹¨ê³„

### 1. ì„œë²„ ì‹¤í–‰ í™•ì¸

ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸:

```powershell
# ì„œë²„ ì‹¤í–‰
npm run dev

# ë˜ëŠ” í”„ë¡œë•ì…˜ ëª¨ë“œ
npm start
```

**í™•ì¸ ì‚¬í•­:**
- MongoDB ì—°ê²° ì„±ê³µ ë©”ì‹œì§€ í™•ì¸
- "ğŸš€ API Doc Manager ì„œë²„ ì‹œì‘ (HTTPS)" ë©”ì‹œì§€ í™•ì¸
- í¬íŠ¸ 443ì—ì„œ ë¦¬ìŠ¤ë‹ ì¤‘ì¸ì§€ í™•ì¸

```powershell
netstat -ano | findstr ":443" | findstr "LISTENING"
```

### 2. Windows Server ë°©í™”ë²½ ì„¤ì •

í¬íŠ¸ 443 ì¸ë°”ìš´ë“œ ê·œì¹™ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

#### ë°©ë²• A: PowerShell ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œì¥)

**ê´€ë¦¬ì ê¶Œí•œ**ìœ¼ë¡œ PowerShell ì‹¤í–‰ í›„:

```powershell
.\scripts\setup-firewall.ps1
```

#### ë°©ë²• B: ìˆ˜ë™ ì„¤ì •

1. **Windows ë°©í™”ë²½ ê³ ê¸‰ ì„¤ì •** ì—´ê¸°
   - `wf.msc` ì‹¤í–‰ ë˜ëŠ” ì œì–´íŒ > ì‹œìŠ¤í…œ ë° ë³´ì•ˆ > Windows Defender ë°©í™”ë²½ > ê³ ê¸‰ ì„¤ì •

2. **ì¸ë°”ìš´ë“œ ê·œì¹™** > **ìƒˆ ê·œì¹™**

3. ê·œì¹™ ë§ˆë²•ì‚¬:
   - ê·œì¹™ ì¢…ë¥˜: **í¬íŠ¸**
   - í”„ë¡œí† ì½œ: **TCP**
   - íŠ¹ì • ë¡œì»¬ í¬íŠ¸: **443**
   - ì‘ì—…: **ì—°ê²° í—ˆìš©**
   - í”„ë¡œí•„: **ëª¨ë“  í”„ë¡œí•„** ì²´í¬
   - ì´ë¦„: **API Doc Manager HTTPS (Port 443)**

#### ë°©ë²• C: ëª…ë ¹ì–´ë¡œ ì„¤ì •

**ê´€ë¦¬ì ê¶Œí•œ** PowerShellì—ì„œ:

```powershell
netsh advfirewall firewall add rule `
    name="API Doc Manager HTTPS (Port 443)" `
    dir=in `
    action=allow `
    protocol=TCP `
    localport=443 `
    description="API Doc Manager HTTPS ì„œë²„ìš© í¬íŠ¸ 443 ì¸ë°”ìš´ë“œ ê·œì¹™"
```

### 3. IDC ë°©í™”ë²½ ì„¤ì • (í•„ìš”ì‹œ)

IDC ê´€ë¦¬ ì½˜ì†”ì—ì„œ ë‹¤ìŒ ì„¤ì • í™•ì¸:

- **ì¸ë°”ìš´ë“œ ê·œì¹™**: í¬íŠ¸ 443 (TCP) í—ˆìš©
- **ì†ŒìŠ¤ IP**: ëª¨ë“  IP ë˜ëŠ” íŠ¹ì • IP ëŒ€ì—­
- **ëŒ€ìƒ**: 211.39.156.53

IDC ì œê³µì—…ì²´ì— ë”°ë¼ ì„¤ì • ë°©ë²•ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 4. ì„œë²„ ì ‘ê·¼ í…ŒìŠ¤íŠ¸

#### ë¡œì»¬ í…ŒìŠ¤íŠ¸

```powershell
# í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
.\scripts\test-server.ps1

# ë˜ëŠ” ìˆ˜ë™ í…ŒìŠ¤íŠ¸
Invoke-WebRequest -Uri "https://localhost:443/api/health" -UseBasicParsing
```

#### ì™¸ë¶€ ì ‘ê·¼ í…ŒìŠ¤íŠ¸

ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œ:

```bash
# cURL
curl -k https://211.39.156.53/api/health

# ë¸Œë¼ìš°ì €
https://211.39.156.53/api/health
```

**ì°¸ê³ **: ìì²´ ì„œëª… ì¸ì¦ì„œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ë¸Œë¼ìš°ì €ì—ì„œ ë³´ì•ˆ ê²½ê³ ê°€ í‘œì‹œë©ë‹ˆë‹¤.

## ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: í¬íŠ¸ 443ì—ì„œ ë¦¬ìŠ¤ë‹í•˜ì§€ ì•ŠìŒ

**ì¦ìƒ:**
```
âŒ í¬íŠ¸ 443ì—ì„œ ë¦¬ìŠ¤ë‹í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤.
```

**í•´ê²°:**
1. ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
2. `.env` íŒŒì¼ì—ì„œ `PORT=443`, `USE_HTTPS=true` í™•ì¸
3. SSL ì¸ì¦ì„œ íŒŒì¼ ì¡´ì¬ í™•ì¸ (`cert/server.key`, `cert/server.crt`)
4. ì„œë²„ ë¡œê·¸ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸

### ë¬¸ì œ 2: ë°©í™”ë²½ ì°¨ë‹¨

**ì¦ìƒ:**
- ë¡œì»¬ì—ì„œëŠ” ì ‘ê·¼ ê°€ëŠ¥í•˜ì§€ë§Œ ì™¸ë¶€ì—ì„œëŠ” ì ‘ê·¼ ë¶ˆê°€
- í¬íŠ¸ ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨

**í•´ê²°:**
1. Windows ë°©í™”ë²½ ê·œì¹™ í™•ì¸
2. IDC ë°©í™”ë²½ ì„¤ì • í™•ì¸
3. ë°©í™”ë²½ ê·œì¹™ ì¶”ê°€ (ìœ„ì˜ "ë°©í™”ë²½ ì„¤ì •" ì°¸ê³ )

### ë¬¸ì œ 3: SSL ì¸ì¦ì„œ ì˜¤ë¥˜

**ì¦ìƒ:**
- ë¸Œë¼ìš°ì €ì—ì„œ "ì•ˆì „í•˜ì§€ ì•Šì€ ì—°ê²°" ê²½ê³ 
- SSL í•¸ë“œì…°ì´í¬ ì‹¤íŒ¨

**í•´ê²°:**
1. ìì²´ ì„œëª… ì¸ì¦ì„œì¸ ê²½ìš° ì •ìƒ (í”„ë¡œë•ì…˜ì—ì„œëŠ” Let's Encrypt ì‚¬ìš© ê¶Œì¥)
2. ì¸ì¦ì„œ íŒŒì¼ í™•ì¸: `cert/server.key`, `cert/server.crt`
3. ì¸ì¦ì„œ ì¬ìƒì„±: `node scripts/generate-cert.js`

### ë¬¸ì œ 4: MongoDB ì—°ê²° ì‹¤íŒ¨

**ì¦ìƒ:**
```
âŒ MongoDB ì—°ê²° ì‹¤íŒ¨
```

**í•´ê²°:**
1. MongoDB ì„œë¹„ìŠ¤ ì‹¤í–‰ í™•ì¸
2. `.env` íŒŒì¼ì—ì„œ `MONGODB_URI` í™•ì¸
3. MongoDB ì—°ê²° í…ŒìŠ¤íŠ¸: `node scripts/check-db.js`

## API í˜¸ì¶œ ì˜ˆì‹œ

### JavaScript/TypeScript

```javascript
// í—¬ìŠ¤ì²´í¬
fetch('https://211.39.156.53/api/health')
  .then(res => res.json())
  .then(data => console.log(data));

// API URL ëª©ë¡ ì¡°íšŒ
fetch('https://211.39.156.53/api/urls')
  .then(res => res.json())
  .then(data => console.log(data));
```

### cURL

```bash
# í—¬ìŠ¤ì²´í¬
curl -k https://211.39.156.53/api/health

# API URL ëª©ë¡
curl -k https://211.39.156.53/api/urls
```

### Python

```python
import requests
import urllib3

# SSL ì¸ì¦ì„œ ê²€ì¦ ë¬´ì‹œ (ìì²´ ì„œëª… ì¸ì¦ì„œìš©)
urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

# í—¬ìŠ¤ì²´í¬
response = requests.get('https://211.39.156.53/api/health', verify=False)
print(response.json())

# API URL ëª©ë¡
response = requests.get('https://211.39.156.53/api/urls', verify=False)
print(response.json())
```

## ë³´ì•ˆ ê¶Œì¥ì‚¬í•­

1. **HTTPS ì‚¬ìš©**: í˜„ì¬ HTTPS(443) ì‚¬ìš© ì¤‘ âœ…
2. **ê³µì¸ ì¸ì¦ì„œ**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” Let's Encrypt ì‚¬ìš© ê¶Œì¥
3. **CORS ì„¤ì •**: `.env`ì—ì„œ `CORS_ORIGIN`ì„ ì‚¬ë‚´ ë„ë©”ì¸ìœ¼ë¡œ ì œí•œ
4. **API ì¸ì¦**: í•„ìš”ì‹œ API í‚¤ ë˜ëŠ” JWT í† í° ì¸ì¦ ì¶”ê°€
5. **Rate Limiting**: í˜„ì¬ IPë‹¹ 15ë¶„ì— 100íšŒ ì œí•œ ì„¤ì •ë¨

## ì²´í¬ë¦¬ìŠ¤íŠ¸

ì™¸ë¶€ ì ‘ê·¼ ì„¤ì • ì™„ë£Œ í™•ì¸:

- [ ] ì„œë²„ê°€ í¬íŠ¸ 443ì—ì„œ ë¦¬ìŠ¤ë‹ ì¤‘
- [ ] Windows ë°©í™”ë²½ ê·œì¹™ ì¶”ê°€ ì™„ë£Œ
- [ ] IDC ë°©í™”ë²½ ì„¤ì • ì™„ë£Œ (í•„ìš”ì‹œ)
- [ ] ë¡œì»¬ ì ‘ê·¼ í…ŒìŠ¤íŠ¸ ì„±ê³µ
- [ ] ì™¸ë¶€ ì ‘ê·¼ í…ŒìŠ¤íŠ¸ ì„±ê³µ
- [ ] SSL ì¸ì¦ì„œ ì •ìƒ ì‘ë™

## ì¶”ê°€ ë„ì›€ë§

- [API ëª…ì„¸ì„œ](./api-reference.md)
- [ë°°í¬ ê°€ì´ë“œ](./deployment.md)
- [ë¬¸ì œ í•´ê²°](./getting-started.md#ë¬¸ì œ-í•´ê²°)

